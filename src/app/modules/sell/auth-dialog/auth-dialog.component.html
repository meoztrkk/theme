<!-- GÄ°RÄ°Å -->
<div *ngIf="view === 'login'" class="auth-shell">
  <div class="auth-header">
    <span class="auth-title">GiriÅŸ Yap</span>
    <button class="auth-close" (click)="close()">Ã—</button>
  </div>
  <div class="auth-divider"></div>

  <form class="auth-content" [formGroup]="loginForm">
    <label class="auth-label">Telefon numarasÄ±</label>
    <div class="auth-phone">
      <div class="auth-flag">ğŸ‡¹ğŸ‡·</div>
      <input
        class="auth-input phone"
        placeholder="0 (5xx) xxx xx xx"
        formControlName="phone"
        type="tel"
      />
    </div>

    <label class="auth-label">Åifre</label>
    <input
      class="auth-input"
      type="password"
      formControlName="password"
      placeholder="Åifre"
    />

    <button type="button" class="auth-btn primary" (click)="submitLogin()">
      GiriÅŸ Yap
    </button>

    <div class="auth-footer">
      Ãœye deÄŸil misiniz?
      <button type="button" class="auth-link" (click)="switchTo('register')">
        KayÄ±t ol
      </button>
    </div>
  </form>
</div>

<!-- KAYIT -->
<div *ngIf="view === 'register'" class="auth-shell">
  <div class="auth-header">
    <span class="auth-title">KayÄ±t</span>
    <button class="auth-close" (click)="close()">Ã—</button>
  </div>
  <div class="auth-divider"></div>

  <form class="auth-content" [formGroup]="registerForm">
    <label class="auth-label">Telefon numarasÄ±</label>
    <div class="auth-phone">
      <div class="auth-flag">ğŸ‡¹ğŸ‡·</div>
      <input
        class="auth-input phone"
        placeholder="0 (5xx) xxx xx xx"
        formControlName="phone"
        type="tel"
      />
    </div>

    <label class="auth-label">Ä°sim</label>
    <input
      class="auth-input"
      formControlName="name"
      placeholder="AdÄ±nÄ±z"
      type="text"
    />

    <label class="auth-label">Åifre</label>
    <input
      class="auth-input"
      formControlName="password"
      type="password"
      placeholder="En az 6 karakter"
    />

    <button
      type="button"
      class="auth-btn primary"
      (click)="submitRegister()"
      [disabled]="isSending"
    >
      KayÄ±t ol
    </button>

    <div class="auth-footer">
      Zaten Ã¼ye misiniz?
      <button type="button" class="auth-link" (click)="switchTo('login')">
        GiriÅŸ Yap
      </button>
    </div>
  </form>
</div>

<!-- SMS DOÄRULAMA -->
<div *ngIf="view === 'verify'" class="auth-shell">
  <div class="auth-header">
    <button class="auth-back" (click)="switchTo('register')">â†</button>
    <span class="auth-title">Telefon doÄŸrulama</span>
    <button class="auth-close" (click)="close()">Ã—</button>
  </div>
  <div class="auth-divider"></div>

  <div class="auth-content verify" [formGroup]="verifyForm">
    <p class="verify-text">Telefonunuza bir doÄŸrulama kodu gÃ¶nderdik:</p>
    <p class="verify-phone">{{ phoneForVerify }}</p>

    <div class="verify-codes">
      <input
        #codeInput
        maxlength="1"
        formControlName="code1"
        (input)="onCodeInput(0, $event)"
      />
      <input
        #codeInput
        maxlength="1"
        formControlName="code2"
        (input)="onCodeInput(1, $event)"
      />
      <input
        #codeInput
        maxlength="1"
        formControlName="code3"
        (input)="onCodeInput(2, $event)"
      />
      <input
        #codeInput
        maxlength="1"
        formControlName="code4"
        (input)="onCodeInput(3, $event)"
      />
    </div>

    <button type="button" class="auth-btn primary" (click)="submitVerify()">
      DoÄŸrula
    </button>

    <p class="verify-resend">
      Mesaj gelmedi mi?
      <ng-container *ngIf="countdown > 0">
        {{ countdown }} saniye sonra tekrar gÃ¶nder
      </ng-container>
      <button *ngIf="countdown <= 0" class="auth-link" (click)="resendCode()">
        Tekrar gÃ¶nder
      </button>
    </p>
  </div>
</div>
